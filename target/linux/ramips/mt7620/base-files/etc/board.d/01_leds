#!/bin/sh

. /lib/functions/leds.sh
. /lib/functions/uci-defaults.sh

set_wifi_led() {
	ucidef_set_led_netdev "wifi_led" "wifi" "${1}" "${2:-wlan0}"
}

board=$(board_name)

board_config_update

led_wlan="$(get_dt_led wlan)"
[ -n "$led_wlan" ] && ucidef_set_led_wlan "wifi_led" "wifi" "$led_wlan" "phy0tpt"

case $board in
aigale,ai-br100)
	ucidef_set_led_netdev "wan" "wan" "blue:wan" "eth0.2"
	set_wifi_led "blue:wlan"
	;;
alfa-network,ac1200rm)
	set_wifi_led "green:wlan2g" "wlan1"
	;;
alfa-network,r36m-e4g)
	ucidef_set_led_netdev "4g" "4g" "orange:4g" "wwan0"
	ucidef_set_led_switch "lan" "lan" "green:lan" "switch0" "0x8"
	ucidef_set_led_switch "wan" "wan" "green:wan" "switch0" "0x10"
	;;
alfa-network,tube-e4g)
	ucidef_set_led_netdev "4g" "4g" "green:4g" "wwan0"
	ucidef_set_led_netdev "lan" "lan" "blue:lan" "eth0"
	;;
asus,rp-n53)
	ucidef_set_led_netdev "eth" "Network" "white:back" "eth0"
	set_wifi_led "blue:wifi"
	;;
asus,rt-n12p)
	ucidef_set_led_netdev "lan" "lan" "green:lan" eth0.1
	ucidef_set_led_netdev "wan" "wan" "green:wan" eth0.2
	set_wifi_led "green:air"
	;;
asus,rt-n14u)
	ucidef_set_led_netdev "lan" "lan" "blue:lan" eth0.1
	ucidef_set_led_netdev "wan" "wan" "blue:wan" eth0.2
	set_wifi_led "blue:air"
	;;
bdcom,wap2100-sk)
	set_wifi_led "green:wlan2g"
	;;
comfast,cf-wr800n)
	ucidef_set_led_netdev "lan" "lan" "white:ethernet" eth0.1
	set_wifi_led "white:wifi"
	;;
dlink,dir-810l|\
trendnet,tew-810dr)
	ucidef_set_led_switch "wan" "wan" "green:wan" "switch0" "0x10"
	;;
dlink,dwr-116-a1|\
head-weblink,hdrm200|\
ohyeah,oy-0001|\
planex,mzk-ex300np|\
zbtlink,zbt-we826-16m|\
zbtlink,zbt-we826-32m|\
zbtlink,zbt-wr8305rt|\
zyxel,keenetic-omni|\
zyxel,keenetic-omni-ii|\
zyxel,keenetic-viva)
	set_wifi_led "green:wifi"
	;;
dlink,dwr-118-a1)
	ucidef_set_led_switch "lan" "lan" "green:lan" "switch0" "0x1f"
	ucidef_set_led_switch "wan" "wan" "green:wan" "switch0" "0x20"
	set_wifi_led "green:wlan2g" "wlan1"
	;;
dlink,dwr-118-a2)
	ucidef_set_led_switch "lan" "lan" "green:lan" "switch0" "0x1e"
	ucidef_set_led_switch "wan" "wan" "green:wan" "switch0" "0x01"
	set_wifi_led "green:wlan2g" "wlan1"
	;;
dlink,dwr-921-c1|\
dlink,dwr-922-e2)
	ucidef_set_led_switch "lan" "lan" "green:lan" "switch0" "0x0f"
	ucidef_set_led_netdev "signalstrength" "signalstrength" "green:sigstrength" "wwan0" "link"
	ucidef_set_led_netdev "4g" "4g" "green:4g" "wwan0" "tx rx"
	set_wifi_led "green:wifi"
	;;
dlink,dwr-960)
	ucidef_set_led_switch "lan" "lan" "green:lan" "switch0" "0x2e"
	ucidef_set_led_switch "wan" "wan" "green:wan" "switch0" "0x01"
	;;
dovado,tiny-ac)
	set_wifi_led "orange:wifi"
	;;
edimax,br-6478ac-v2|\
edimax,ew-7478apc)
	set_wifi_led "blue:wlan"
	;;
edimax,ew-7476rpc|\
edimax,ew-7478ac)
	ucidef_set_led_switch "lan" "lan" "green:lan"  "switch0" "0x20"
	;;
elecom,wrh-300cr)
	ucidef_set_led_netdev "lan" "lan" "green:ethernet" "eth0"
	set_wifi_led "green:wlan"
	;;
engenius,esr600)
	ucidef_set_led_netdev "wlan5g" "5.0GHz" "blue:wlan5g" "wlan0"
	ucidef_set_led_netdev "wlan2g" "2.4GHz" "blue:wlan2g" "wlan1"
	;;
glinet,gl-mt300a|\
glinet,gl-mt300n|\
glinet,gl-mt750)
	set_wifi_led "wlan"
	;;
hiwifi,hc5661|\
hiwifi,hc5761)
	ucidef_set_led_switch "internet" "internet" "blue:internet" "switch0" "0x01"
	;;
hiwifi,hc5861)
	ucidef_set_led_switch "internet" "internet" "blue:internet" "switch0" "0x20"
	;;
hnet,c108)
	ucidef_set_led_netdev "lan" "lan" "green:lan" "eth0"
	ucidef_set_led_netdev "modem" "modem" "green:modem" "wwan0"
	;;
iodata,wn-ac1167gr|\
iodata,wn-ac733gr3)
	ucidef_set_led_wlan "wlan5g" "WLAN5G" "green:wlan5g" "phy0radio"
	ucidef_set_led_wlan "wlan2g" "WLAN2G" "green:wlan2g" "phy1radio"
	;;
kimax,u25awf-h1)
	ucidef_set_led_netdev "eth" "eth" "green:lan" "eth0"
	set_wifi_led "red:wifi"
	;;
kimax,u35wf)
	ucidef_set_led_netdev "eth" "ETH" "green:eth" "eth0"
	set_wifi_led "blue:wifi"
	;;
kingston,mlw221|\
kingston,mlwg2|\
sanlinking,d240)
	set_wifi_led "blue:wifi"
	;;
lava,lr-25g001)
	ucidef_set_led_netdev "wlan2g" "WiFi 2.4GHz" "green:wlan2g" "wlan1"
	ucidef_set_led_netdev "wlan5g" "WiFi 5GHz" "green:wlan5g" "wlan0"
	;;
lenovo,newifi-y1)
	ucidef_set_led_netdev "wifi" "WIFI" "blue:wifi" "wlan1"
	ucidef_set_led_netdev "wifi5g" "WIFI5G" "blue:wifi5g" "wlan0"
	ucidef_set_led_switch "lan" "LAN" "blue:lan" "switch0" "0x03"
	;;
lenovo,newifi-y1s)
	ucidef_set_led_netdev "wifi" "WIFI" "yellow:wifi" "wlan1"
	ucidef_set_led_netdev "wifi5g" "WIFI5G" "blue:wifi" "wlan0"
	ucidef_set_led_netdev "wan" "WAN" "blue:internet" "eth0.2" "tx rx"
	;;
netgear,ex2700|\
netgear,wn3000rp-v3)
	set_wifi_led "green:router"
	;;
netgear,ex3700|\
netgear,ex6130)
	ucidef_set_led_netdev "wlan5g" "ROUTER (green)" "green:router" "wlan0"
	ucidef_set_led_netdev "wlan2g" "DEVICE (green)" "green:device" "wlan1"
	;;
netgear,jwnr2010-v5)
	ucidef_set_led_switch "lan1" "lan1" "green:lan1" "switch0" "0x08"
	ucidef_set_led_switch "lan2" "lan2" "green:lan2" "switch0" "0x04"
	ucidef_set_led_switch "lan3" "lan3" "green:lan3" "switch0" "0x02"
	ucidef_set_led_switch "lan4" "lan4" "green:lan4" "switch0" "0x01"
	ucidef_set_led_switch "wan" "wan" "green:wan" "switch0" "0x10"
	;;
phicomm,psg1208)
	set_wifi_led "white:wlan2g"
	;;
planex,mzk-ex750np|\
zbtlink,zbt-we826-e)
	set_wifi_led "red:wifi"
	;;
ravpower,rp-wd03)
	ucidef_set_led_netdev "internet" "internet" "green:wifi" "eth0"
	;;
tplink,archer-c2-v1)
	ucidef_set_led_switch "lan" "lan" "green:lan" "switch1" "0x1e"
	ucidef_set_led_switch "wan" "wan" "green:wan" "switch1" "0x01"
	;;
tplink,archer-c20-v1|\
tplink,archer-c20i)
	ucidef_set_led_switch "lan" "lan" "blue:lan" "switch0" "0x1e"
	ucidef_set_led_switch "wan" "wan" "blue:wan" "switch0" "0x01"
	;;
tplink,archer-c50-v1)
	ucidef_set_led_switch "lan" "lan" "green:lan" "switch0" "0x1e"
	ucidef_set_led_switch "wan" "wan" "green:wan" "switch0" "0x01"
	;;
tplink,archer-mr200)
	ucidef_set_led_netdev "lan" "lan" "white:lan" "eth0.1"
	ucidef_set_led_netdev "wan" "wan" "white:wan" "usb0"
	;;
tplink,re200-v1)
	ucidef_set_led_netdev "lan" "lan" "green:lan" "eth0"
	;;
youku,yk1)
	ucidef_set_led_switch "wan" "wan" "blue:wan" "switch0" "0x10"
	set_wifi_led "blue:air"
	;;
zbtlink,zbt-ape522ii)
	ucidef_set_led_netdev "wlan2g4" "wlan1-link" "green:wlan2g4" "wlan1"
	ucidef_set_led_netdev "sys1" "wlan1" "green:sys1" "wlan1" "tx rx"
	ucidef_set_led_netdev "sys2" "wlan0" "green:sys2" "wlan0" "tx rx"
	;;
zbtlink,zbt-wa05)
	set_wifi_led "blue:air"
	;;
zbtlink,zbt-we1026-5g-16m)
	ucidef_set_led_netdev "lan" "LAN" "green:lan" "eth0"
	set_wifi_led "green:wifi"
	;;
zbtlink,zbt-we1026-h-32m)
	ucidef_set_led_switch "lan" "lan" "green:lan" "switch0" "0x8"
	ucidef_set_led_switch "wan" "wan" "green:wan" "switch0" "0x10"
	set_wifi_led "green:wifi"
	;;
zbtlink,zbt-we2026)
	set_wifi_led "green:wlan"
	;;
esac

board_config_flush

exit 0
